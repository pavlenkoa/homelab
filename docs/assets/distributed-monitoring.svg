<svg viewBox="0 0 1000 800" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="1000" height="800" fill="#f5f5f5" />
  
  <!-- Title -->
  <text x="500" y="30" font-family="Arial" font-size="24" text-anchor="middle" font-weight="bold">Distributed Monitoring Infrastructure - Physical Devices and Services</text>
  
  <!-- Internet Cloud -->
  <ellipse cx="500" cy="90" rx="100" ry="40" fill="#e1f5fe" stroke="#0288d1" stroke-width="1.5" />
  <text x="500" y="95" font-family="Arial" font-size="16" text-anchor="middle">Internet</text>
  
  <!-- Kyiv Location Box -->
  <rect x="45" y="155" width="335" height="460" rx="10" fill="#e8f5e9" stroke="#43a047" stroke-width="1.5" />
  <text x="212" y="180" font-family="Arial" font-size="18" text-anchor="middle" font-weight="bold">Kyiv Location</text>
  
  <!-- Kyiv Mikrotik Router -->
  <rect x="70" y="200" width="280" height="140" rx="5" fill="#c8e6c9" stroke="#2e7d32" stroke-width="1" />
  <text x="210" y="220" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold">Mikrotik Router (HAP AC2)</text>
  <text x="210" y="240" font-family="Arial" font-size="12" text-anchor="middle">Static IP, 192.168.1.0/24, 192.168.2.0/24</text>
  
  <!-- Kyiv WireGuard Interfaces -->
  <rect x="85" y="255" width="120" height="70" rx="5" fill="#e0f2f1" stroke="#009688" stroke-width="1" />
  <text x="145" y="275" font-family="Arial" font-size="12" text-anchor="middle" font-weight="bold">WireGuard Interfaces</text>
  <text x="145" y="295" font-family="Arial" font-size="10" text-anchor="middle">• kyiv-wroclaw-tunnel</text>
  <text x="145" y="310" font-family="Arial" font-size="10" text-anchor="middle">• kyiv-oracle-tunnel</text>
  
  <!-- Kyiv Firewall -->
  <rect x="215" y="255" width="120" height="70" rx="5" fill="#ffebee" stroke="#d32f2f" stroke-width="1" />
  <text x="275" y="275" font-family="Arial" font-size="12" text-anchor="middle" font-weight="bold">Firewall Rules</text>
  <text x="275" y="295" font-family="Arial" font-size="10" text-anchor="middle">• Allow WG traffic</text>
  <text x="275" y="310" font-family="Arial" font-size="10" text-anchor="middle">• Restrict by services</text>
  
  <!-- Raspberry Pi -->
  <rect x="70" y="355" width="280" height="230" rx="5" fill="#ffffff" stroke="#2e7d32" stroke-width="1" />
  <text x="210" y="375" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold">Raspberry Pi 4 (Docker)</text>
  
  <!-- Raspberry Pi Services -->
  <rect x="85" y="390" width="120" height="180" rx="5" fill="#f1f8e9" stroke="#558b2f" stroke-width="1" />
  <text x="145" y="410" font-family="Arial" font-size="12" text-anchor="middle" font-weight="bold">Core Services</text>
  <text x="145" y="430" font-family="Arial" font-size="10" text-anchor="middle">• Transmission</text>
  <text x="145" y="445" font-family="Arial" font-size="10" text-anchor="middle">• WireGuard for</text>
  <text x="145" y="460" font-family="Arial" font-size="10" text-anchor="middle">  Transmission</text>
  <text x="145" y="475" font-family="Arial" font-size="10" text-anchor="middle">• node-exporter</text>
  <text x="145" y="490" font-family="Arial" font-size="10" text-anchor="middle">• cadvisor</text>
  <text x="145" y="505" font-family="Arial" font-size="10" text-anchor="middle">• transmission-exporter</text>
  <text x="145" y="520" font-family="Arial" font-size="10" text-anchor="middle">• blackbox exporter</text>
  <text x="145" y="535" font-family="Arial" font-size="10" text-anchor="middle">• fluentbit</text>
  
  <rect x="215" y="390" width="120" height="80" rx="5" fill="#f1f8e9" stroke="#558b2f" stroke-width="1" />
  <text x="275" y="410" font-family="Arial" font-size="12" text-anchor="middle" font-weight="bold">Monitoring</text>
  <text x="275" y="430" font-family="Arial" font-size="10" text-anchor="middle">• vmagent</text>
  <text x="275" y="445" font-family="Arial" font-size="10" text-anchor="middle">  (forwards metrics to</text>
  <text x="275" y="460" font-family="Arial" font-size="10" text-anchor="middle">  VictoriaMetrics)</text>
  
  <!-- Wrocław Location Box -->
  <rect x="620" y="155" width="335" height="460" rx="10" fill="#e3f2fd" stroke="#1976d2" stroke-width="1.5" />
  <text x="787" y="180" font-family="Arial" font-size="18" text-anchor="middle" font-weight="bold">Wrocław Location</text>
  
  <!-- Wrocław Mikrotik Router -->
  <rect x="645" y="200" width="280" height="140" rx="5" fill="#bbdefb" stroke="#1565c0" stroke-width="1" />
  <text x="785" y="220" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold">Mikrotik Router (hAP ax²)</text>
  <text x="785" y="240" font-family="Arial" font-size="12" text-anchor="middle">CGNAT, LAN 192.168.88.0/24</text>
  
  <!-- Wrocław WireGuard Interfaces -->
  <rect x="660" y="255" width="120" height="70" rx="5" fill="#e0f2f1" stroke="#009688" stroke-width="1" />
  <text x="720" y="275" font-family="Arial" font-size="12" text-anchor="middle" font-weight="bold">WireGuard Interfaces</text>
  <text x="720" y="295" font-family="Arial" font-size="10" text-anchor="middle">• wroclaw-kyiv-tunnel</text>
  <text x="720" y="310" font-family="Arial" font-size="10" text-anchor="middle">• wroclaw-oracle-tunnel</text>
  
  <!-- Wrocław Firewall -->
  <rect x="790" y="255" width="120" height="70" rx="5" fill="#ffebee" stroke="#d32f2f" stroke-width="1" />
  <text x="850" y="275" font-family="Arial" font-size="12" text-anchor="middle" font-weight="bold">Firewall Rules</text>
  <text x="850" y="295" font-family="Arial" font-size="10" text-anchor="middle">• Allow WG traffic</text>
  <text x="850" y="310" font-family="Arial" font-size="10" text-anchor="middle">• NAT for WG tunnels</text>
  
  <!-- Mac Mini -->
  <rect x="645" y="355" width="280" height="230" rx="5" fill="#ffffff" stroke="#1565c0" stroke-width="1" />
  <text x="785" y="375" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold">Mac Mini M4 (Hybrid)</text>
  
  <!-- Mac Mini Services (Native) -->
  <rect x="660" y="390" width="120" height="50" rx="5" fill="#e1f5fe" stroke="#0288d1" stroke-width="1" />
  <text x="720" y="410" font-family="Arial" font-size="12" text-anchor="middle" font-weight="bold">Native Services</text>
  <text x="720" y="430" font-family="Arial" font-size="10" text-anchor="middle">• Emby</text>
  
  <!-- Mac Mini Services (Orbstack Docker) -->
  <rect x="790" y="390" width="120" height="180" rx="5" fill="#e1f5fe" stroke="#0288d1" stroke-width="1" />
  <text x="850" y="410" font-family="Arial" font-size="12" text-anchor="middle" font-weight="bold">Docker (Orbstack)</text>
  <text x="850" y="430" font-family="Arial" font-size="10" text-anchor="middle">• Caddy</text>
  <text x="850" y="445" font-family="Arial" font-size="10" text-anchor="middle">• vmagent</text>
  <text x="850" y="460" font-family="Arial" font-size="10" text-anchor="middle">• immich</text>
  <text x="850" y="475" font-family="Arial" font-size="10" text-anchor="middle">• cadvisor</text>
  <text x="850" y="490" font-family="Arial" font-size="10" text-anchor="middle">• node-exporter</text>
  <text x="850" y="505" font-family="Arial" font-size="10" text-anchor="middle">• blackbox exporter</text>
  <text x="850" y="520" font-family="Arial" font-size="10" text-anchor="middle">• VictoriaLogs</text>
  <text x="850" y="535" font-family="Arial" font-size="10" text-anchor="middle">• fail2ban</text>
  
  <!-- Oracle Cloud Box -->
  <rect x="380" y="155" width="240" height="150" rx="10" fill="#fff3e0" stroke="#fb8c00" stroke-width="1.5" />
  <text x="500" y="180" font-family="Arial" font-size="18" text-anchor="middle" font-weight="bold">Oracle Cloud VM</text>
  <text x="500" y="200" font-family="Arial" font-size="10" text-anchor="middle">10.0.0.114 (VCN), Public IP</text>
  
  <!-- Oracle Services -->
  <rect x="395" y="215" width="210" height="40" rx="5" fill="#ffffff" stroke="#fb8c00" stroke-width="1" />
  <text x="500" y="240" font-family="Arial" font-size="14" text-anchor="middle" font-weight="bold">VictoriaMetrics</text>
  
  <!-- Oracle WireGuard -->
  <rect x="395" y="265" width="95" height="30" rx="5" fill="#e0f2f1" stroke="#009688" stroke-width="1" />
  <text x="442" y="285" font-family="Arial" font-size="10" text-anchor="middle">oracle-kyiv-tunnel</text>
  
  <rect x="510" y="265" width="95" height="30" rx="5" fill="#e0f2f1" stroke="#009688" stroke-width="1" />
  <text x="557" y="285" font-family="Arial" font-size="10" text-anchor="middle">oracle-wroclaw-tunnel</text>
  
  <!-- Grafana Cloud -->
  <ellipse cx="500" cy="650" rx="150" ry="50" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="1.5" />
  <text x="500" y="645" font-family="Arial" font-size="18" text-anchor="middle" font-weight="bold">Grafana Cloud</text>
  <text x="500" y="665" font-family="Arial" font-size="12" text-anchor="middle">Central UI for monitoring dashboards</text>
  
  <!-- Connection Lines -->
  <!-- Internet to Oracle -->
  <line x1="500" y1="130" x2="500" y2="155" stroke="#0288d1" stroke-width="1" />
  <polygon points="500,155 497,150 503,150" fill="#0288d1" />
  
  <!-- WireGuard Tunnels -->
  <!-- Kyiv to Wrocław -->
  <line x1="205" y1="290" x2="660" y2="290" stroke="#009688" stroke-width="1" stroke-dasharray="3,2" />
  <polygon points="660,290 655,287 655,293" fill="#009688" />
  <text x="430" y="280" font-family="Arial" font-size="9" fill="#009688" text-anchor="middle">WireGuard Tunnel</text>
  
  <!-- Kyiv to Oracle -->
  <line x1="275" y1="255" x2="395" y2="280" stroke="#009688" stroke-width="1" stroke-dasharray="3,2" />
  <polygon points="395,280 390,277 390,283" fill="#009688" />
  <text x="330" y="260" font-family="Arial" font-size="9" fill="#009688" text-anchor="middle">WireGuard</text>
  
  <!-- Wrocław to Oracle -->
  <line x1="720" y1="255" x2="605" y2="280" stroke="#009688" stroke-width="1" stroke-dasharray="3,2" />
  <polygon points="605,280 610,277 610,283" fill="#009688" />
  <text x="660" y="260" font-family="Arial" font-size="9" fill="#009688" text-anchor="middle">WireGuard</text>
  <text x="660" y="272" font-family="Arial" font-size="8" fill="#009688" text-anchor="middle">10.88.99.0/30</text>
  
  <!-- Metrics Flow -->
  <!-- Kyiv to Oracle -->
  <line x1="335" y1="430" x2="455" y2="255" stroke="#e91e63" stroke-width="1" stroke-dasharray="2,2" />
  <polygon points="455,255 451,257 453,251" fill="#e91e63" />
  <text x="380" y="340" font-family="Arial" font-size="8" fill="#e91e63" text-anchor="middle">Metrics</text>
  
  <!-- Wrocław to Oracle -->
  <line x1="790" y1="445" x2="545" y2="255" stroke="#e91e63" stroke-width="1" stroke-dasharray="2,2" />
  <polygon points="545,255 549,251 547,257" fill="#e91e63" />
  <text x="670" y="340" font-family="Arial" font-size="8" fill="#e91e63" text-anchor="middle">Metrics</text>
  
  <!-- Log Flow: Kyiv to Wrocław -->
  <line x1="205" y1="535" x2="790" y2="520" stroke="#673ab7" stroke-width="1" stroke-dasharray="2,2" />
  <polygon points="790,520 785,517 785,523" fill="#673ab7" />
  <text x="500" y="515" font-family="Arial" font-size="8" fill="#673ab7" text-anchor="middle">Logs via fluentbit → VictoriaLogs</text>
  
  <!-- Grafana Cloud Access -->
  <!-- To VictoriaMetrics -->
  <line x1="500" y1="305" x2="500" y2="600" stroke="#7b1fa2" stroke-width="1" />
  <polygon points="500,600 497,595 503,595" fill="#7b1fa2" />
  <text x="515" y="450" font-family="Arial" font-size="8" fill="#7b1fa2" text-anchor="middle">VictoriaMetrics</text>
  
  <!-- To VictoriaLogs -->
  <line x1="850" y1="535" x2="600" y2="650" stroke="#7b1fa2" stroke-width="1" />
  <polygon points="600,650 605,645 602,655" fill="#7b1fa2" />
  <text x="720" y="590" font-family="Arial" font-size="8" fill="#7b1fa2" text-anchor="middle">VictoriaLogs</text>
  <text x="720" y="602" font-family="Arial" font-size="8" fill="#7b1fa2" text-anchor="middle">(via Kyiv endpoint)</text>
  
  <!-- Legend -->
  <rect x="750" y="20" width="210" height="110" rx="5" fill="#ffffff" stroke="#333333" stroke-width="1" />
  <text x="855" y="35" font-family="Arial" font-size="14" text-anchor="middle" font-weight="bold">Legend</text>
  
  <line x1="760" y1="50" x2="780" y2="50" stroke="#009688" stroke-width="1" stroke-dasharray="3,2" />
  <text x="860" y="55" font-family="Arial" font-size="12" text-anchor="middle">WireGuard Tunnel</text>
  
  <line x1="760" y1="70" x2="780" y2="70" stroke="#e91e63" stroke-width="1" stroke-dasharray="2,2" />
  <text x="860" y="75" font-family="Arial" font-size="12" text-anchor="middle">Metrics Flow</text>
  
  <line x1="760" y1="90" x2="780" y2="90" stroke="#673ab7" stroke-width="1" stroke-dasharray="2,2" />
  <text x="860" y="95" font-family="Arial" font-size="12" text-anchor="middle">Logs Flow</text>
  
  <line x1="760" y1="110" x2="780" y2="110" stroke="#7b1fa2" stroke-width="1" />
  <text x="860" y="115" font-family="Arial" font-size="12" text-anchor="middle">Grafana Cloud Access</text>
</svg>
